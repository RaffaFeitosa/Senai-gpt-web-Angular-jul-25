<div class="body">
  <aside class="left-panel">
    <div class="top">
      <button class="novo-chat-button" (click)="novoChat()">+ New Chat</button>

      @for (chat of chats; track $index) {

      <button class="conversa" (click)="onChatClick(chat)">
        <i class="fa-regular fa-comment-dots"></i>
        {{ chat.chatTitle }}
      </button>

      }
    </div>

    <div class="bottom">
        @if(chatSelecionado !=null){
      <button class="action" (click)="deletarChatSelecionado()">
        <i class="fa-regular fa-trash-can"></i>
        Clear conversations</button>
      }
      <button class="action" (click)="ligarDesligarDarkMode()">
        <i class="fa-regular fa-lightbulb"></i>
        Dark mode</button>
      <button class="action">
        <i class="fa-regular fa-user"></i>
        My account</button>
      <button class="action">
        <i class="fa-regular fa-circle-question"></i>
        Updates & FAQ</button>
      <button class="action" (click)="deslogar()">
        <i class="fa-solid fa-right-from-bracket"></i>
        Log out</button>

    </div>


  </aside>


  <main class="central-panel">
    @if (chatSelecionado == null){
    <div class="logosenai">
     <img [src]="darkMode == true? 'imgs/LOGODARK.png' : 'imgs/LOGO.png'" alt="Login SenaiGPT">

    </div>
    <div class="disposicao1">
      <div class="colunas">
        <div class="teste"> <i class="fa-regular fa-comments"></i>
          <h1 class="titulo">Examples</h1>
        </div>
        <p class="texto">"Explain quantum computing insimple terms"</p>
        <p class="texto">"Got any creative ideas for a 10year old's birthday?"</p>
        <p class="texto"> "How do I make an HTTP requestin Javascript?"</p>

      </div>

      <div class="colunas">
        <div class="teste"> <i class="fa-solid fa-star-of-david"></i>
          <h1 class="titulo">Capabilities</h1>
        </div>
        <p class="texto">Remembers what user saidearlier in the conversation.</p>
        <p class="texto">Allows user to provide follow-up corrections.</p>
        <p class="texto">Trained to decline inappropriate requests.</p>
      </div>


      <div class="colunas">
        <div class="teste"><i class="fa-solid fa-ban"></i>
          <h1 class="titulo">Limitations</h1>
        </div>
        <p class="texto">May occasionally generate incorrect information.</p>
        <p class="texto">May occasionally produce harmful instructions or biased content.</p>
        <p class="texto">Limited knowledge of world andevents after 2021.</p>
      </div>
    </div>

    }

    @if (chatSelecionado != null){
    <!-- Só vai ser executado quando o usuário tiver clicado em um chat -->

    <div class="chat-container">
      <div class="chat-header">

        <h2>{{ chatSelecionado.chatTitle }}</h2>

      </div>

      <div class="chat-messages">
        @for (msg of mensagens; track $index){
        <p class="message-item" [class.chatbot]="msg.userId == 'chatbot'">{{ msg.text }}</p>
        }
      </div>
    </div>

    <div class="input-container">

      <i class="fa-solid fa-microphone-lines"></i>

      <i class="fa-regular fa-images"></i>

      <input [formControl]="mensagenUsuario" type="text" placeholder="Type message" (keydown.enter)="enviarMensagem()">

      <i class="fa-regular fa-paper-plane" (click)="enviarMensagem()"></i>

    </div>

    }


  </main>
</div>
